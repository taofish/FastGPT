<!doctype html><html lang=zh-cn><head><meta charset=utf-8><title>Docker Compose 快速部署 | FastGPT</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="使用 Docker Compose 快速部署 FastGPT"><meta name=keywords content="Documentation,Hugo,Hugo Theme,Bootstrap"><meta name=author content="Colin Wilson - Lotus Labs"><meta name=email content="support@aigis.uk"><meta name=website content="https://lotusdocs.dev"><meta name=Version content="v0.1.0"><link rel=icon href=https://doc.tryfastgpt.ai/favicon.ico sizes=any><link rel=icon type=image/svg+xml href=https://doc.tryfastgpt.ai/favicon.svg><link rel=apple-touch-icon sizes=180x180 href=https://doc.tryfastgpt.ai/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://doc.tryfastgpt.ai/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://doc.tryfastgpt.ai/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://doc.tryfastgpt.ai/site.webmanifest><meta property="og:title" content="Docker Compose 快速部署"><meta property="og:description" content="使用 Docker Compose 快速部署 FastGPT"><meta property="og:type" content="article"><meta property="og:url" content="https://doc.tryfastgpt.ai/docs/development/docker/"><meta property="og:image" content="https://doc.tryfastgpt.ai/opengraph/card-base-2_hu06b1a92291a380a0d2e0ec03dab66b2f_17642_filter_7508709088536350108.png"><meta property="article:section" content="docs"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://doc.tryfastgpt.ai/opengraph/card-base-2_hu06b1a92291a380a0d2e0ec03dab66b2f_17642_filter_7508709088536350108.png"><meta name=twitter:title content="Docker Compose 快速部署"><meta name=twitter:description content="使用 Docker Compose 快速部署 FastGPT"><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><link rel=preconnect href=https://gstatic.loli.net/><link rel=preconnect href=https://gstatic.loli.net/ crossorigin><link href="https://fonts.loli.net/css?family=Inter:300,400,600,700|Fira+Code:500,700|JetBrains+Mono:500,700&display=block" rel=stylesheet><link rel=stylesheet href=/docs/scss/style.min.0ec826a837202d1bb0cc402457fc3b09de1d00673bd1fea8591ce85da15706ba66db8c4b0243747a2179524215798bcd.css integrity=sha384-DsgmqDcgLRuwzEAkV/w7Cd4dAGc70f6oWRzoXaFXBrpm24xLAkN0eiF5UkIVeYvN crossorigin=anonymous><script data-id=umami-script async src=https://umami.fastgpt.in/fastgpt data-website-id=69b3f2c6-39a5-4937-b92d-6fdd5c8f5958></script><script type=text/javascript>document.querySelector('script[data-id="umami-script"]').addEventListener("load",function(){const e=document.head.querySelector('meta[property = "og:type"]').getAttribute("content");let t=document.head.querySelector('meta[property = "og:title"]').getAttribute("content"),n=document.head.querySelector('meta[property = "og:url"]').getAttribute("content");umami.track(e+":"+t,{url:n})})</script><script defer>function loadAnalyticsScript(){var e=document.createElement("script");e.async=!0,e.src="https://gaxy.fastgpt.in/gtag/js?id=G-KGYF44Y7TT",document.head.appendChild(e),window.dataLayer=window.dataLayer||[];function t(){dataLayer.push(arguments)}t("js",new Date),t("config","G-KGYF44Y7TT"),window.removeEventListener("scroll",onScrollLoadAnalytics)}function onScrollLoadAnalytics(){window.scrollY>100&&loadAnalyticsScript()}window.addEventListener("scroll",onScrollLoadAnalytics)</script><script defer>function loadScriptOnScroll(){var e,t,n,s=window.scrollY||window.pageYOffset;s>100&&(n=n||[],e=document.createElement("script"),e.src="https://hm.baidu.com/hm.js?537c7867df8f9ae2e7147284ec0dbfdd",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t),window.removeEventListener("scroll",loadScriptOnScroll))}window.addEventListener("scroll",loadScriptOnScroll)</script><script defer>function loadClarityScript(){(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","mjgug8s1pf"),window.removeEventListener("scroll",onScrollLoadClarity)}function onScrollLoadClarity(){window.scrollY>100&&loadClarityScript()}window.addEventListener("scroll",onScrollLoadClarity)</script><link rel=preload href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css as=style><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css></head><body><div class=content><div class="page-wrapper toggled"><nav id=sidebar class=sidebar-wrapper><div class=sidebar-brand><a href=https://fastgpt.in/ aria-label=HomePage alt=HomePage style=text-transform:unset><svg width="26" height="26" viewBox="0 0 1041 1348" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M340.837.33933 681.068.338989V.455643C684.032.378397 686.999.339702 689.967.339702 735.961.3397 781.504 9.62899 823.997 27.6772 866.49 45.7254 905.099 72.1791 937.622 105.528 970.144 138.877 995.942 178.467 1013.54 222.04 1031.14 265.612 1040.2 312.312 1040.2 359.474H340.836V1347.84C296.157 1347.84 251.914 1338.55 210.636 1320.49 169.357 1302.43 131.85 1275.95 100.257 1242.58 68.6636 1209.21 43.6023 1169.59 26.5041 1125.99 11.3834 1087.43 2.75216 1046.42.957956 1004.81H.605869L.605897 368.098H.70363c-.597878-26.267 1.53378-52.655 6.43943-78.687C20.2709 219.745 52.6748 155.754 100.257 105.528 147.839 55.3017 208.462 21.0975 274.461 7.24017 296.426 2.62833 318.657.339101 340.837.33933z" fill="url(#paint0_linear_1172_228)"/><path d="M633.639 904.645H513.029V576.37H635.422V576.377C678.161 576.607 720.454 585.093 759.951 601.37 799.997 617.874 836.384 642.064 867.033 672.559c30.65 30.495 54.963 66.698 71.55 106.542C955.171 818.944 963.709 861.648 963.709 904.775H633.639V904.645z" fill="url(#paint1_linear_1172_228)"/><defs><linearGradient id="paint0_linear_1172_228" x1="520.404" y1=".338989" x2="520.404" y2="1347.84" gradientUnits="userSpaceOnUse"><stop stop-color="#326dff"/><stop offset="1" stop-color="#8eaeff"/></linearGradient><linearGradient id="paint1_linear_1172_228" x1="738.369" y1="576.37" x2="738.369" y2="904.775" gradientUnits="userSpaceOnUse"><stop stop-color="#326dff"/><stop offset="1" stop-color="#8eaeff"/></linearGradient></defs></svg>&nbsp;
FastGPT</a></div><div class=sidebar-content style="height:calc(100% - 131px)"><ul class=sidebar-menu><li><a class=sidebar-root-link href=https://doc.tryfastgpt.ai/docs/intro/><i class="material-icons me-2">rocket_launch</i>
快速了解 FastGPT</a></li><li class=sidebar-dropdown><button class=btn>
<i class="material-icons me-2">import_contacts</i>
基础教程</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/course/quick-start/>快速上手</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/course/ai_settings/>AI 相关参数配置说明</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/course/websync/>Web 站点同步</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/course/dataset_engine/>知识库搜索方案和参数</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/course/externalfile/>外部文件知识库</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/course/chat_input_guide/>对话问题引导</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/course/collection_tags/>知识库集合标签</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/course/fileinput/>文件输入功能介绍</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/course/feishu/>接入飞书机器人教程</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/course/openapi/>通过 API 访问应用</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/course/official_account/>接入微信公众号教程</a></li></ul></div></li><li class=sidebar-dropdown><button class=btn>
<i class="material-icons me-2">family_history</i>
高级编排</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/intro/>高级编排介绍</a></li><li class="sidebar-dropdown nested"><button class=btn>
模块介绍</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/modules/ai_chat/>AI 对话</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/modules/content_extract/>内容提取</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/modules/custom_feedback/>自定义反馈</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/modules/http/>HTTP 模块</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/modules/laf/>Laf 函数调用</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/modules/input/>对话入口</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/modules/tool/>工具调用</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/modules/dataset_search/>知识库搜索</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/modules/question_classify/>问题分类</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/modules/reply/>指定回复</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/modules/tfswitch/>判断器</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/modules/text_editor/>文本加工</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/modules/coreferenceresolution/>问题优化（已合并到知识库搜索）</a></li></ul></div></li><li class="sidebar-dropdown nested"><button class=btn>
编排示例</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/examples/translate-subtitle-using-gpt/>长字幕翻译</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/examples/fixingevidence/>固定开头和结尾内容</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/examples/google_search/>接入谷歌搜索</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/examples/lab_appointment/>实验室预约</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/examples/dalle3/>Dalle3 绘图</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/workflow/examples/feishu_webhook/>发送飞书webhook通知</a></li></ul></div></li></ul></div></li><li class=sidebar-dropdown><button class=btn>
<i class="material-icons me-2">cases</i>
使用案例</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/use-cases/gapier/>使用 Gapier 快速导入Agent工具</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/use-cases/onwechat/>对接 chatgpt-on-wechat</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/use-cases/wechat/>接入微信和企业微信</a></li></ul></div></li><li class="sidebar-dropdown current active"><button class=btn>
<i class="material-icons me-2">code_blocks</i>
开发与部署指南</button><div class="sidebar-submenu d-block"><ul><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/intro/>快速开始本地开发</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/sealos/>Sealos 一键部署</a></li><li class=current><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/docker/>Docker Compose 快速部署</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/configuration/>配置文件介绍</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/one-api/>使用 One API 接入 Azure、ChatGLM 和本地模型</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/faq/>私有部署常见问题</a></li><li class="sidebar-dropdown nested"><button class=btn>
版本更新/升级操作</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/intro/>升级说明</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/4811/>V4.8.11（进行中）</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/4810/>V4.8.10（进行中）</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/489/>V4.8.9（需要初始化）</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/488/>V4.8.8(需要初始化)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/487/>V4.8.7</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/486/>V4.8.6(需要初始化)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/485/>V4.8.5(需要初始化)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/484/>V4.8.4(需要初始化)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/483/>V4.8.3</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/482/>V4.8.2</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/481/>V4.8.1(需要初始化)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/48/>V4.8</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/471/>V4.7.1(需要初始化)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/47/>V4.7（需要初始化）</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/469/>V4.6.9(需要初始化)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/468/>V4.6.8（需要初始化）</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/467/>V4.6.7（需要初始化）</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/466/>V4.6.6（需要改配置文件）</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/465/>V4.6.5（需要改配置文件）</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/464/>V4.6.4(需要初始化)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/463/>V4.6.3(需要初始化)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/462/>V4.6.2(需要初始化)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/461/>V4.6.1</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/46/>V4.6(需要初始化)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/452/>V4.5.2</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/451/>V4.5.1(需进行初始化)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/45/>V4.5(需进行较为复杂更新)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/447/>V4.4.7（需执行升级脚本）</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/446/>V4.4.6</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/445/>V4.4.5(需要初始化)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/442/>升级到 V4.4.2(需要初始化)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/441/>升级到 V4.4.1(需要初始化)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/44/>升级到 V4.4(需要初始化)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/43/>升级到 V4.3(需要初始化)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/421/>升级到 V4.2.1</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/42/>升级到 V4.2</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/41/>升级到 V4.1</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/upgrading/40/>升级到 V4.0</a></li></ul></div></li><li class="sidebar-dropdown nested"><button class=btn>
OpenAPI 接口文档</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/openapi/auth/>Api Key 使用与鉴权</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/openapi/chat/>对话接口</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/openapi/dataset/>知识库接口</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/openapi/share/>分享链接身份鉴权</a></li></ul></div></li><li class="sidebar-dropdown nested"><button class=btn>
本地模型使用</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/custom-models/xinference/>使用 Xinference 接入本地模型</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/custom-models/bge-rerank/>接入 bge-rerank 重排模型</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/custom-models/chatglm2/>接入 ChatGLM2-6B</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/custom-models/m3e/>接入 M3E 向量模型</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/custom-models/chatglm2-m3e/>接入 ChatGLM2-m3e 模型</a></li></ul></div></li><li class="sidebar-dropdown nested"><button class=btn>
代理方案</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/proxy/nginx/>Nginx 中转</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/proxy/http_proxy/>HTTP 代理中转</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/proxy/cloudflare/>Cloudflare Worker 中转</a></li></ul></div></li><li class="sidebar-dropdown nested"><button class=btn>
迁移&备份</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/migration/-docker_mongo/>Docker Mongo迁移(dump模式)</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/migration/docker_db/>Docker 数据库迁移(无脑操作)</a></li></ul></div></li><li class="sidebar-dropdown nested"><button class=btn>
设计方案</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/development/design/dataset/>数据集</a></li></ul></div></li></ul></div></li><li class=sidebar-dropdown><button class=btn>
<i class="material-icons me-2">shopping_cart</i>
商业版介绍</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/commercial/intro/>商业版</a></li></ul></div></li><li><a class=sidebar-root-link href=https://doc.tryfastgpt.ai/docs/pricing/><i class="material-icons me-2">currency_yen</i>
线上版定价</a></li><li class=sidebar-dropdown><button class=btn>
<i class="material-icons me-2">handshake</i>
协议</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/agreement/open-source/>开源协议</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/agreement/terms/>服务协议</a></li><li><a class=sidebar-nested-link href=https://doc.tryfastgpt.ai/docs/agreement/privacy/>隐私政策</a></li></ul></div></li><li><a class=sidebar-root-link href=https://doc.tryfastgpt.ai/docs/community/><i class="material-icons me-2">forum</i>
加入社区</a></li></ul></div><ul class="sidebar-footer list-unstyled mb-0"></ul></nav><main class="page-content bg-transparent"><div id=top-header class="top-header d-print-none"><div class="header-bar d-flex justify-content-between"><div class="d-flex align-items-center"><a href=https://fastgpt.in/ class="logo-icon me-3" aria-label=HomePage alt=HomePage><div class=small><svg width="26" height="26" viewBox="0 0 1041 1348" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M340.837.33933 681.068.338989V.455643C684.032.378397 686.999.339702 689.967.339702 735.961.3397 781.504 9.62899 823.997 27.6772 866.49 45.7254 905.099 72.1791 937.622 105.528 970.144 138.877 995.942 178.467 1013.54 222.04 1031.14 265.612 1040.2 312.312 1040.2 359.474H340.836V1347.84C296.157 1347.84 251.914 1338.55 210.636 1320.49 169.357 1302.43 131.85 1275.95 100.257 1242.58 68.6636 1209.21 43.6023 1169.59 26.5041 1125.99 11.3834 1087.43 2.75216 1046.42.957956 1004.81H.605869L.605897 368.098H.70363c-.597878-26.267 1.53378-52.655 6.43943-78.687C20.2709 219.745 52.6748 155.754 100.257 105.528 147.839 55.3017 208.462 21.0975 274.461 7.24017 296.426 2.62833 318.657.339101 340.837.33933z" fill="url(#paint0_linear_1172_228)"/><path d="M633.639 904.645H513.029V576.37H635.422V576.377C678.161 576.607 720.454 585.093 759.951 601.37 799.997 617.874 836.384 642.064 867.033 672.559c30.65 30.495 54.963 66.698 71.55 106.542C955.171 818.944 963.709 861.648 963.709 904.775H633.639V904.645z" fill="url(#paint1_linear_1172_228)"/><defs><linearGradient id="paint0_linear_1172_228" x1="520.404" y1=".338989" x2="520.404" y2="1347.84" gradientUnits="userSpaceOnUse"><stop stop-color="#326dff"/><stop offset="1" stop-color="#8eaeff"/></linearGradient><linearGradient id="paint1_linear_1172_228" x1="738.369" y1="576.37" x2="738.369" y2="904.775" gradientUnits="userSpaceOnUse"><stop stop-color="#326dff"/><stop offset="1" stop-color="#8eaeff"/></linearGradient></defs></svg></div><div class=big><svg width="26" height="26" viewBox="0 0 1041 1348" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M340.837.33933 681.068.338989V.455643C684.032.378397 686.999.339702 689.967.339702 735.961.3397 781.504 9.62899 823.997 27.6772 866.49 45.7254 905.099 72.1791 937.622 105.528 970.144 138.877 995.942 178.467 1013.54 222.04 1031.14 265.612 1040.2 312.312 1040.2 359.474H340.836V1347.84C296.157 1347.84 251.914 1338.55 210.636 1320.49 169.357 1302.43 131.85 1275.95 100.257 1242.58 68.6636 1209.21 43.6023 1169.59 26.5041 1125.99 11.3834 1087.43 2.75216 1046.42.957956 1004.81H.605869L.605897 368.098H.70363c-.597878-26.267 1.53378-52.655 6.43943-78.687C20.2709 219.745 52.6748 155.754 100.257 105.528 147.839 55.3017 208.462 21.0975 274.461 7.24017 296.426 2.62833 318.657.339101 340.837.33933z" fill="url(#paint0_linear_1172_228)"/><path d="M633.639 904.645H513.029V576.37H635.422V576.377C678.161 576.607 720.454 585.093 759.951 601.37 799.997 617.874 836.384 642.064 867.033 672.559c30.65 30.495 54.963 66.698 71.55 106.542C955.171 818.944 963.709 861.648 963.709 904.775H633.639V904.645z" fill="url(#paint1_linear_1172_228)"/><defs><linearGradient id="paint0_linear_1172_228" x1="520.404" y1=".338989" x2="520.404" y2="1347.84" gradientUnits="userSpaceOnUse"><stop stop-color="#326dff"/><stop offset="1" stop-color="#8eaeff"/></linearGradient><linearGradient id="paint1_linear_1172_228" x1="738.369" y1="576.37" x2="738.369" y2="904.775" gradientUnits="userSpaceOnUse"><stop stop-color="#326dff"/><stop offset="1" stop-color="#8eaeff"/></linearGradient></defs></svg></div></a><button id=close-sidebar class="btn btn-icon btn-soft">
<span class="material-icons size-20 menu-icon align-middle">menu</span></button>
<span><div id=docsearch></div></span></div><div class="d-flex align-items-center"><ul class="list-unstyled mb-0"><li class="list-inline-item mb-0"><a href=https://github.com/labring/FastGPT alt=github rel="noopener noreferrer" target=_blank><div class="btn btn-icon btn-default border-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>GitHub</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></div></a></li><li class="list-inline-item mb-0"><a href=https://oss.laf.run/htr4n1-images/fastgpt-qr-code.jpg alt=wechat rel="noopener noreferrer" target=_blank><div class="btn btn-icon btn-default border-0"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>微信群</title><path d="M21.6696 15.9962C21.9464 15.9925 22.2107 15.881 22.4064 15.6853 22.6021 15.4896 22.7137 15.2252 22.7173 14.9485c0-.581-.465500000000002-1.0477-1.0477-1.0477C21.0875 13.9008 20.622 14.3675 20.622 14.9485c0 .583300000000001.4666 1.0477 1.0476 1.0477zm-5.1625.0C16.7839 15.9925 17.0482 15.881 17.2439 15.6853S17.5512 15.2252 17.5548 14.9485c0-.581-.466699999999999-1.0477-1.0477-1.0477C15.9238 13.9008 15.4595 14.3675 15.4595 14.9485c0 .583300000000001.4655 1.0477 1.0476 1.0477zm7.6615 5.88C24.0939 21.9177 24.0342 21.9818 23.9981 22.0594 23.9621 22.1369 23.9515 22.2239 23.968 22.3078 23.968 22.3638 23.968 22.421 23.9971 22.4793c.1144.486500000000003.343 1.2612.343 1.2904C24.3401 23.8548 24.3693 23.912 24.3693 23.9703 24.3693 24.0041 24.3626 24.0376 24.3496 24.0688 24.3367 24.1 24.3177 24.1284 24.2937 24.1522 24.2697 24.1761 24.2413 24.195 24.21 24.2078 24.1788 24.2206 24.1453 24.2272 24.1115 24.227 24.0531 24.227 24.0251 24.199 23.968 24.171L22.2775 23.1957C22.154 23.1277 22.0168 23.0886 21.8761 23.0813 21.791 23.0813 21.7046 23.0813 21.6475 23.1093 20.8448 23.3392 20.0141 23.4535 19.1263 23.4535c-4.27.0-7.7082-2.8665-7.7082-6.4225.0-3.5548 3.4382-6.4225 7.7082-6.4225 4.2688.0 7.707 2.8677 7.707 6.4225.0 1.9215-1.0313 3.6703-2.6647 4.8463V21.8762zM19.4518 9.44883C19.3429 9.44521 19.234 9.44327 19.1251 9.443c-4.8696.0-8.8736 3.3367-8.8736 7.5892.0.6463.0932999999999993 1.2716.266 1.8666H10.4136C9.39426 18.8885 8.38067 18.7442 7.39896 18.4695 7.31263 18.4403 7.22629 18.4403 7.13996 18.4403 6.96754 18.444 6.79921 18.4935 6.65229 18.5838L4.61296 19.7563C4.55463 19.7855 4.49746 19.8147 4.44029 19.8147 4.35703 19.8138 4.27744 19.7803 4.21856 19.7214 4.15968 19.6625 4.1262 19.5829 4.12529 19.4997 4.12529 19.4133 4.15329 19.3562 4.18246 19.2698 4.21046 19.2418 4.46946 18.2968 4.61296 17.7252 4.61296 17.6668 4.64096 17.5817 4.64096 17.5245 4.64065 17.4245 4.61721 17.3259 4.57248 17.2364 4.52775 17.147 4.46295 17.0691 4.38313 17.0088c-1.98217-1.4035-3.2165-3.4918-3.2165-5.8111.0-4.26187 4.165-7.6977 9.27497-7.6977 4.3925.0 8.085 2.5305 9.0102 5.94767V9.44883zM13.4388 9.9365c.6685.0 1.197-.5565 1.197-1.197.0-.6685-.528499999999999-1.197-1.197-1.197S12.2418 8.071 12.2418 8.7395 12.7703 9.9365 13.4388 9.9365zm-6.13667.0c.6685.0 1.19816-.5565 1.19816-1.197.0-.6685-.52966-1.197-1.19816-1.197-.66734.0-1.197.528499999999999-1.197 1.197s.52966 1.197 1.197 1.197z"/></svg></div></a></li></ul><button id=mode class="btn btn-icon btn-default ms-2" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" height="30" width="30" viewBox="0 0 48 48" fill="currentcolor"><path d="M24 42q-7.5.0-12.75-5.25T6 24t5.25-12.75T24 6q.4.0.85.025.45.025 1.15.075-1.8 1.6-2.8 3.95t-1 4.95q0 4.5 3.15 7.65Q28.5 25.8 33 25.8q2.6.0 4.95-.925T41.9 22.3q.05.6.075.975Q42 23.65 42 24q0 7.5-5.25 12.75T24 42zm0-3q5.45.0 9.5-3.375t5.05-7.925q-1.25.55-2.675.825Q34.45 28.8 33 28.8q-5.75.0-9.775-4.025T19.2 15q0-1.2.25-2.575t.9-3.125q-4.9 1.35-8.125 5.475Q9 18.9 9 24q0 6.25 4.375 10.625T24 39zm-.2-14.85z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" height="30" width="30" viewBox="0 0 48 48" fill="currentcolor"><path d="M24 31q2.9.0 4.95-2.05T31 24t-2.05-4.95T24 17t-4.95 2.05T17 24t2.05 4.95T24 31zm0 3q-4.15.0-7.075-2.925T14 24t2.925-7.075T24 14t7.075 2.925T34 24t-2.925 7.075T24 34zM3.5 25.5q-.65.0-1.075-.425Q2 24.65 2 24t.425-1.075Q2.85 22.5 3.5 22.5h5q.65.0 1.075.425Q10 23.35 10 24t-.425 1.075T8.5 25.5zm36 0q-.65.0-1.075-.425Q38 24.65 38 24t.425-1.075T39.5 22.5h5q.65.0 1.075.425Q46 23.35 46 24t-.425 1.075-1.075.425zM24 10q-.65.0-1.075-.425Q22.5 9.15 22.5 8.5v-5q0-.65.425-1.075Q23.35 2 24 2t1.075.425T25.5 3.5v5q0 .65-.425 1.075Q24.65 10 24 10zm0 36q-.65.0-1.075-.425T22.5 44.5v-5q0-.65.425-1.075Q23.35 38 24 38t1.075.425.425 1.075v5q0 .65-.425 1.075Q24.65 46 24 46zM12 14.1l-2.85-2.8q-.45-.45-.425-1.075.025-.625.425-1.075.45-.45 1.075-.45t1.075.45L14.1 12q.4.45.4 1.05.0.6-.4 1-.4.45-1.025.45T12 14.1zm24.7 24.75L33.9 36q-.4-.45-.4-1.075t.45-1.025q.4-.45 1-.45t1.05.45l2.85 2.8q.45.45.425 1.075-.025.625-.425 1.075-.45.45-1.075.45t-1.075-.45zM33.9 14.1q-.45-.45-.45-1.05.0-.6.45-1.05l2.8-2.85q.45-.45 1.075-.425.625.025 1.075.425.45.45.45 1.075t-.45 1.075L36 14.1q-.4.4-1.025.4t-1.075-.4zM9.15 38.85q-.45-.45-.45-1.075t.45-1.075L12 33.9q.45-.45 1.05-.45.6.0 1.05.45.45.45.45 1.05.0.6-.45 1.05l-2.8 2.85q-.45.45-1.075.425-.625-.025-1.075-.425zM24 24z"/></svg></span></button></div></div></div><div class=container-fluid><div class=layout-spacing><div class="d-md-flex justify-content-between align-items-center"><nav aria-label=breadcrumb class="d-inline-block pb-2 mt-1 mt-sm-0"><ul id=breadcrumbs class="breadcrumb bg-transparent mb-0" itemscope itemtype=https://schema.org/BreadcrumbList><li class="breadcrumb-item text-capitalize active" aria-current=page itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/docs/><i class="material-icons size-20 align-text-bottom" itemprop=name>Home</i></a><meta itemprop=position content="1"></li><li class="breadcrumb-item text-capitalize" itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/docs/development/><span itemprop=name>开发与部署指南</span></a><meta itemprop=position content="2"></li><li class="breadcrumb-item text-capitalize active" itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><span itemprop=name>Docker Compose 快速部署</span><meta itemprop=position content="3"></li></ul></nav></div><div class="row flex-xl-nowrap"><div class="docs-toc col-xl-3 d-xl-block"><toc><div class="fw-bold text-uppercase mb-2">Docker Compose 快速部署</div><nav id=toc><ul><li><ul><li><a href=#部署架构图>部署架构图</a></li><li><a href=#推荐配置>推荐配置</a><ul><li><a href=#pgvector版本>PgVector版本</a></li><li><a href=#milvus版本>Milvus版本</a></li><li><a href=#zilliz-cloud版本>zilliz cloud版本</a></li></ul></li><li><a href=#前置工作>前置工作</a><ul><li><a href=#1-确保网络环境>1. 确保网络环境</a></li><li><a href=#2-准备-docker-环境>2. 准备 Docker 环境</a></li></ul></li><li><a href=#开始部署>开始部署</a><ul><li><a href=#1-下载-docker-composeyml>1. 下载 docker-compose.yml</a></li><li><a href=#2-修改-docker-composeyml-环境变量>2. 修改 docker-compose.yml 环境变量</a></li><li><a href=#3-启动容器>3. 启动容器</a></li><li><a href=#4-打开-oneapi-添加模型>4. 打开 OneAPI 添加模型</a></li><li><a href=#5-访问-fastgpt>5. 访问 FastGPT</a></li></ul></li><li><a href=#faq>FAQ</a><ul><li><a href=#mongo-副本集自动初始化失败>Mongo 副本集自动初始化失败</a></li><li><a href=#如何修改api地址和密钥>如何修改API地址和密钥</a></li><li><a href=#如何更新版本>如何更新版本？</a></li><li><a href=#如何自定义配置文件>如何自定义配置文件？</a></li><li><a href=#如何检查自定义配置文件是否挂载>如何检查自定义配置文件是否挂载</a></li><li><a href=#如何检查环境变量是否正常加载>如何检查环境变量是否正常加载</a></li><li><a href=#为什么无法连接本地模型镜像>为什么无法连接<code>本地模型</code>镜像</a></li><li><a href=#端口冲突怎么解决>端口冲突怎么解决？</a></li><li><a href=#relation-modeldata-does-not-exist>relation &ldquo;modeldata&rdquo; does not exist</a></li><li><a href=#illegal-instruction>Illegal instruction</a></li><li><a href=#operation-auth_codesfindone-buffering-timed-out-after-10000ms>Operation <code>auth_codes.findOne()</code> buffering timed out after 10000ms</a></li><li><a href=#首次部署root用户提示未注册>首次部署，root用户提示未注册</a></li><li><a href=#无法导出知识库无法使用语音输入播报>无法导出知识库、无法使用语音输入/播报</a></li><li><a href=#登录提示-network-error>登录提示 Network Error</a></li><li><a href=#如何修改密码>如何修改密码</a></li></ul></li></ul></li></ul></nav></toc></div><div class="docs-toc-mobile d-print-none d-xl-none"><button id=toc-dropdown-btn class="btn-secondary dropdown-toggle" type=button data-bs-toggle=dropdown data-bs-offset=0,0 aria-expanded=false>
Table of Contents</button><nav id=toc-mobile><ul class=dropdown-menu><li><ul><li><a href=#部署架构图>部署架构图</a></li><li><a href=#推荐配置>推荐配置</a><ul><li><a href=#pgvector版本>PgVector版本</a></li><li><a href=#milvus版本>Milvus版本</a></li><li><a href=#zilliz-cloud版本>zilliz cloud版本</a></li></ul></li><li><a href=#前置工作>前置工作</a><ul><li><a href=#1-确保网络环境>1. 确保网络环境</a></li><li><a href=#2-准备-docker-环境>2. 准备 Docker 环境</a></li></ul></li><li><a href=#开始部署>开始部署</a><ul><li><a href=#1-下载-docker-composeyml>1. 下载 docker-compose.yml</a></li><li><a href=#2-修改-docker-composeyml-环境变量>2. 修改 docker-compose.yml 环境变量</a></li><li><a href=#3-启动容器>3. 启动容器</a></li><li><a href=#4-打开-oneapi-添加模型>4. 打开 OneAPI 添加模型</a></li><li><a href=#5-访问-fastgpt>5. 访问 FastGPT</a></li></ul></li><li><a href=#faq>FAQ</a><ul><li><a href=#mongo-副本集自动初始化失败>Mongo 副本集自动初始化失败</a></li><li><a href=#如何修改api地址和密钥>如何修改API地址和密钥</a></li><li><a href=#如何更新版本>如何更新版本？</a></li><li><a href=#如何自定义配置文件>如何自定义配置文件？</a></li><li><a href=#如何检查自定义配置文件是否挂载>如何检查自定义配置文件是否挂载</a></li><li><a href=#如何检查环境变量是否正常加载>如何检查环境变量是否正常加载</a></li><li><a href=#为什么无法连接本地模型镜像>为什么无法连接<code>本地模型</code>镜像</a></li><li><a href=#端口冲突怎么解决>端口冲突怎么解决？</a></li><li><a href=#relation-modeldata-does-not-exist>relation &ldquo;modeldata&rdquo; does not exist</a></li><li><a href=#illegal-instruction>Illegal instruction</a></li><li><a href=#operation-auth_codesfindone-buffering-timed-out-after-10000ms>Operation <code>auth_codes.findOne()</code> buffering timed out after 10000ms</a></li><li><a href=#首次部署root用户提示未注册>首次部署，root用户提示未注册</a></li><li><a href=#无法导出知识库无法使用语音输入播报>无法导出知识库、无法使用语音输入/播报</a></li><li><a href=#登录提示-network-error>登录提示 Network Error</a></li><li><a href=#如何修改密码>如何修改密码</a></li></ul></li></ul></li></ul></nav></div><div class="docs-content col-12 col-xl-9 mt-0"><div class="mb-0 d-flex"><i class="material-icons title-icon me-2">article</i><h1 class="content-title mb-0">Docker Compose 快速部署</h1></div><p class="lead mb-3">使用 Docker Compose 快速部署 FastGPT</p><div id=content class=main-content data-bs-spy=scroll data-bs-root-margin="0px 0px -65%" data-bs-target=#toc-mobile><div data-prismjs-copy data-prismjs-copy-success data-prismjs-copy-error><h2 id=部署架构图>部署架构图 <a href=#%e9%83%a8%e7%bd%b2%e6%9e%b6%e6%9e%84%e5%9b%be class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h2><p><img src=https://cdn.jsdelivr.net/gh/yangchuansheng/fastgpt-imgs@main/imgs/sealos-fastgpt.webp alt loading=lazy class=medium-zoom-image></p><div class="alert alert-success d-flex" role=alert><div class="flex-shrink-1 alert-icon"><p>🤖</p></div><div class=w-100><ul><li><p>MongoDB：用于存储除了向量外的各类数据</p></li><li><p>PostgreSQL/Milvus：存储向量数据</p></li><li><p>OneAPI: 聚合各类 AI API，支持多模型调用 （任何模型问题，先自行通过 OneAPI 测试校验）</p></div></div></li></ul><h2 id=推荐配置>推荐配置 <a href=#%e6%8e%a8%e8%8d%90%e9%85%8d%e7%bd%ae class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h2><h3 id=pgvector版本>PgVector版本 <a href=#pgvector%e7%89%88%e6%9c%ac class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>体验测试首选</p><table class="table table-hover table-striped-columns"><thead><tr><th>环境</th><th>最低配置（单节点）</th><th>推荐配置</th></tr></thead><tbody><tr><td>测试</td><td>2c2g</td><td>2c4g</td></tr><tr><td>100w 组向量</td><td>4c8g 50GB</td><td>4c16g 50GB</td></tr><tr><td>500w 组向量</td><td>8c32g 200GB</td><td>16c64g 200GB</td></tr></tbody></table><h3 id=milvus版本>Milvus版本 <a href=#milvus%e7%89%88%e6%9c%ac class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>对于千万级以上向量性能更优秀。</p><p><a href=https://milvus.io/docs/prerequisite-docker.md rel=external target=_blank>点击查看 Milvus 官方推荐配置<svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentcolor" d="M14 5c-.552.0-1-.448-1-1s.448-1 1-1h6c.552.0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1V6.414l-7.293 7.293c-.391.39-1.024.39-1.414.0-.391-.391-.391-1.024.0-1.414L17.586 5H14zM5 7c-.552.0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552.0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1V19c0 1.657-1.343 3-3 3H5c-1.657.0-3-1.343-3-3V8c0-1.657 1.343-3 3-3h4.563c.552.0 1 .448 1 1s-.448 1-1 1H5z"/></svg></a></p><table class="table table-hover table-striped-columns"><thead><tr><th>环境</th><th>最低配置（单节点）</th><th>推荐配置</th></tr></thead><tbody><tr><td>测试</td><td>2c8g</td><td>4c16g</td></tr><tr><td>100w 组向量</td><td>未测试</td><td></td></tr><tr><td>500w 组向量</td><td></td><td></td></tr></tbody></table><h3 id=zilliz-cloud版本>zilliz cloud版本 <a href=#zilliz-cloud%e7%89%88%e6%9c%ac class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>亿级以上向量首选。</p><p>由于向量库使用了 Cloud，无需占用本地资源，无需太关注。</p><h2 id=前置工作>前置工作 <a href=#%e5%89%8d%e7%bd%ae%e5%b7%a5%e4%bd%9c class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h2><h3 id=1-确保网络环境>1. 确保网络环境 <a href=#1-%e7%a1%ae%e4%bf%9d%e7%bd%91%e7%bb%9c%e7%8e%af%e5%a2%83 class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>如果使用<code>OpenAI</code>等国外模型接口，请确保可以正常访问，否则会报错：<code>Connection error</code> 等。 方案可以参考：<a data-bs-delay='{"hide":300,"show":550}' data-bs-html=true data-bs-title="<a href='/docs/development/proxy/'><p>开发与部署指南</p><strong>代理方案</strong><br>FastGPT 私有化部署代理方案</a>" data-bs-toggle=tooltip href=/docs/development/proxy/>代理方案</a></p><h3 id=2-准备-docker-环境>2. 准备 Docker 环境 <a href=#2-%e5%87%86%e5%a4%87-docker-%e7%8e%af%e5%a2%83 class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><nav><div class="nav nav-tabs" id=nav-tab role=tablist><a class="nav-link active" id=abefcdTab data-bs-toggle=tab data-bs-target=#abefcd type=button role=tab aria-controls=abefcd aria-selected=true>Linux</a>
<a class=nav-link id=bcfdaeTab data-bs-toggle=tab data-bs-target=#bcfdae type=button role=tab aria-controls=bcfdae aria-selected=true>MacOS</a>
<a class=nav-link id=dacebfTab data-bs-toggle=tab data-bs-target=#dacebf type=button role=tab aria-controls=dacebf aria-selected=true>Windows</a></div></nav><div class=tab-content id=nav-tab-content><div class="tab-pane fade show active" id=abefcd role=tabpanel aria-labelledby=nav-1><div class=prism-codeblock><pre id=9cef5de class=language-bash>
  <code># 安装 Docker
curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun
systemctl enable --now docker
# 安装 docker-compose
curl -L https://github.com/docker/compose/releases/download/v2.20.3/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose
chmod &#43;x /usr/local/bin/docker-compose
# 验证安装
docker -v
docker-compose -v
# 如失效，自行百度~</code>
  </pre></div></div><div class="tab-pane fade" id=bcfdae role=tabpanel aria-labelledby=nav-1><p>推荐直接使用 <a href=https://orbstack.dev/ rel=external target=_blank>Orbstack<svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentcolor" d="M14 5c-.552.0-1-.448-1-1s.448-1 1-1h6c.552.0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1V6.414l-7.293 7.293c-.391.39-1.024.39-1.414.0-.391-.391-.391-1.024.0-1.414L17.586 5H14zM5 7c-.552.0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552.0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1V19c0 1.657-1.343 3-3 3H5c-1.657.0-3-1.343-3-3V8c0-1.657 1.343-3 3-3h4.563c.552.0 1 .448 1 1s-.448 1-1 1H5z"/></svg></a>。可直接通过 Homebrew 来安装：</p><div class=prism-codeblock><pre id=baef865 class=language-bash>
  <code>brew install orbstack</code>
  </pre></div><p>或者直接<a href=https://orbstack.dev/download rel=external target=_blank>下载安装包<svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentcolor" d="M14 5c-.552.0-1-.448-1-1s.448-1 1-1h6c.552.0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1V6.414l-7.293 7.293c-.391.39-1.024.39-1.414.0-.391-.391-.391-1.024.0-1.414L17.586 5H14zM5 7c-.552.0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552.0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1V19c0 1.657-1.343 3-3 3H5c-1.657.0-3-1.343-3-3V8c0-1.657 1.343-3 3-3h4.563c.552.0 1 .448 1 1s-.448 1-1 1H5z"/></svg></a>进行安装。</p></div><div class="tab-pane fade" id=dacebf role=tabpanel aria-labelledby=nav-1><p>我们建议将源代码和其他数据绑定到 Linux 容器中时，将其存储在 Linux 文件系统中，而不是 Windows 文件系统中。</p><p>可以选择直接<a href=https://docs.docker.com/desktop/wsl/ rel=external target=_blank>使用 WSL 2 后端在 Windows 中安装 Docker Desktop<svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentcolor" d="M14 5c-.552.0-1-.448-1-1s.448-1 1-1h6c.552.0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1V6.414l-7.293 7.293c-.391.39-1.024.39-1.414.0-.391-.391-.391-1.024.0-1.414L17.586 5H14zM5 7c-.552.0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552.0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1V19c0 1.657-1.343 3-3 3H5c-1.657.0-3-1.343-3-3V8c0-1.657 1.343-3 3-3h4.563c.552.0 1 .448 1 1s-.448 1-1 1H5z"/></svg></a>。</p><p>也可以直接<a href=https://nickjanetakis.com/blog/install-docker-in-wsl-2-without-docker-desktop rel=external target=_blank>在 WSL 2 中安装命令行版本的 Docker<svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentcolor" d="M14 5c-.552.0-1-.448-1-1s.448-1 1-1h6c.552.0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1V6.414l-7.293 7.293c-.391.39-1.024.39-1.414.0-.391-.391-.391-1.024.0-1.414L17.586 5H14zM5 7c-.552.0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552.0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1V19c0 1.657-1.343 3-3 3H5c-1.657.0-3-1.343-3-3V8c0-1.657 1.343-3 3-3h4.563c.552.0 1 .448 1 1s-.448 1-1 1H5z"/></svg></a>。</p></div></div><h2 id=开始部署>开始部署 <a href=#%e5%bc%80%e5%a7%8b%e9%83%a8%e7%bd%b2 class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h2><h3 id=1-下载-docker-composeyml>1. 下载 docker-compose.yml <a href=#1-%e4%b8%8b%e8%bd%bd-docker-composeyml class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>非 Linux 环境或无法访问外网环境，可手动创建一个目录，并下载配置文件和对应版本的<code>docker-compose.yml</code>，在这个文件夹中依据下载的配置文件运行docker，若作为本地开发使用推荐<code>docker-compose-pgvector</code>版本，并且自行拉取并运行<code>sandbox</code>和<code>fastgpt</code>，并在docker配置文件中注释掉<code>sandbox</code>和<code>fastgpt</code>的部分</p><ul><li><a href=https://github.com/labring/FastGPT/blob/main/projects/app/data/config.json rel=external target=_blank>config.json<svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentcolor" d="M14 5c-.552.0-1-.448-1-1s.448-1 1-1h6c.552.0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1V6.414l-7.293 7.293c-.391.39-1.024.39-1.414.0-.391-.391-.391-1.024.0-1.414L17.586 5H14zM5 7c-.552.0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552.0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1V19c0 1.657-1.343 3-3 3H5c-1.657.0-3-1.343-3-3V8c0-1.657 1.343-3 3-3h4.563c.552.0 1 .448 1 1s-.448 1-1 1H5z"/></svg></a></li><li><a href=https://github.com/labring/FastGPT/blob/main/files/docker rel=external target=_blank>docker-compose.yml<svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentcolor" d="M14 5c-.552.0-1-.448-1-1s.448-1 1-1h6c.552.0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1V6.414l-7.293 7.293c-.391.39-1.024.39-1.414.0-.391-.391-.391-1.024.0-1.414L17.586 5H14zM5 7c-.552.0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552.0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1V19c0 1.657-1.343 3-3 3H5c-1.657.0-3-1.343-3-3V8c0-1.657 1.343-3 3-3h4.563c.552.0 1 .448 1 1s-.448 1-1 1H5z"/></svg></a> (注意，不同向量库版本的文件不一样)</li></ul><div class="alert alert-success d-flex" role=alert><div class="flex-shrink-1 alert-icon"><p>🤖</p></div><div class=w-100><p>所有 <code>docker-compose.yml</code> 配置文件中 <code>MongoDB</code> 为 5.x，需要用到AVX指令集，部分 CPU 不支持，需手动更改其镜像版本为 4.4.24**（需要自己在docker hub下载，阿里云镜像没做备份）</p></div></div><p><strong>Linux 快速脚本</strong></p><div class=prism-codeblock><pre id=0130ec6 class=language-bash>
  <code>mkdir fastgpt
cd fastgpt
curl -O https://raw.githubusercontent.com/labring/FastGPT/main/projects/app/data/config.json

# pgvector 版本(测试推荐，简单快捷)
curl -o docker-compose.yml https://raw.githubusercontent.com/labring/FastGPT/main/files/docker/docker-compose-pgvector.yml
# milvus 版本
# curl -o docker-compose.yml https://raw.githubusercontent.com/labring/FastGPT/main/files/docker/docker-compose-milvus.yml
# zilliz 版本
# curl -o docker-compose.yml https://raw.githubusercontent.com/labring/FastGPT/main/files/docker/docker-compose-zilliz.yml</code>
  </pre></div><h3 id=2-修改-docker-composeyml-环境变量>2. 修改 docker-compose.yml 环境变量 <a href=#2-%e4%bf%ae%e6%94%b9-docker-composeyml-%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><nav><div class="nav nav-tabs" id=nav-tab role=tablist><a class="nav-link active" id=bdafecTab data-bs-toggle=tab data-bs-target=#bdafec type=button role=tab aria-controls=bdafec aria-selected=true>PgVector版本</a>
<a class=nav-link id=aebdcfTab data-bs-toggle=tab data-bs-target=#aebdcf type=button role=tab aria-controls=aebdcf aria-selected=true>Milvus版本</a>
<a class=nav-link id=efcbdaTab data-bs-toggle=tab data-bs-target=#efcbda type=button role=tab aria-controls=efcbda aria-selected=true>Zilliz版本</a></div></nav><div class=tab-content id=nav-tab-content><div class="tab-pane fade show active" id=bdafec role=tabpanel aria-labelledby=nav-1><div class=prism-codeblock><pre id=6b836e6 class=language->
  <code>无需操作</code>
  </pre></div></div><div class="tab-pane fade" id=aebdcf role=tabpanel aria-labelledby=nav-1><div class=prism-codeblock><pre id=6b836e6 class=language->
  <code>无需操作</code>
  </pre></div></div><div class="tab-pane fade" id=efcbda role=tabpanel aria-labelledby=nav-1><p><img src=https://cdn.jsdelivr.net/gh/yangchuansheng/fastgpt-imgs@main/imgs/zilliz_key.png alt=zilliz_key loading=lazy class=medium-zoom-image></p><div class="alert alert-success d-flex" role=alert><div class="flex-shrink-1 alert-icon"><p>🤖</p></div><div class=w-100><p>修改<code>MILVUS_ADDRESS</code>和<code>MILVUS_TOKEN</code>链接参数，分别对应 <code>zilliz</code> 的 <code>Public Endpoint</code> 和 <code>Api key</code>，记得把自己ip加入白名单。</p></div></div></div></div><h3 id=3-启动容器>3. 启动容器 <a href=#3-%e5%90%af%e5%8a%a8%e5%ae%b9%e5%99%a8 class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>在 docker-compose.yml 同级目录下执行。请确保<code>docker-compose</code>版本最好在2.17以上，否则可能无法执行自动化命令。</p><div class=prism-codeblock><pre id=5346540 class=language-bash>
  <code># 启动容器
docker-compose up -d
# 等待10s，OneAPI第一次总是要重启几次才能连上Mysql
sleep 10
# 重启一次oneapi(由于OneAPI的默认Key有点问题，不重启的话会提示找不到渠道，临时手动重启一次解决，等待作者修复)
docker restart oneapi</code>
  </pre></div><h3 id=4-打开-oneapi-添加模型>4. 打开 OneAPI 添加模型 <a href=#4-%e6%89%93%e5%bc%80-oneapi-%e6%b7%bb%e5%8a%a0%e6%a8%a1%e5%9e%8b class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>可以通过<code>ip:3001</code>访问OneAPI，默认账号为<code>root</code>密码为<code>123456</code>。</p><p>在OneApi中添加合适的AI模型渠道。<a data-bs-delay='{"hide":300,"show":550}' data-bs-html=true data-bs-title="<a href='/docs/development/one-api/'><p>开发与部署指南</p><strong>使用 One API 接入 Azure、ChatGLM 和本地模型</strong><br>部署和使用 One API，实现 Azure、ChatGLM 和本地模型的接入。</a>" data-bs-toggle=tooltip href=/docs/development/one-api/>点击查看相关教程</a></p><h3 id=5-访问-fastgpt>5. 访问 FastGPT <a href=#5-%e8%ae%bf%e9%97%ae-fastgpt class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>目前可以通过 <code>ip:3000</code> 直接访问(注意防火墙)。登录用户名为 <code>root</code>，密码为<code>docker-compose.yml</code>环境变量里设置的 <code>DEFAULT_ROOT_PSW</code>。</p><p>如果需要域名访问，请自行安装并配置 Nginx。</p><p>首次运行，会自动初始化 root 用户，密码为 <code>1234</code>（与环境变量中的<code>DEFAULT_ROOT_PSW</code>一致），日志里会提示一次<code>MongoServerError: Unable to read from a snapshot due to pending collection catalog changes;</code>可忽略。</p><h2 id=faq>FAQ <a href=#faq class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h2><h3 id=mongo-副本集自动初始化失败>Mongo 副本集自动初始化失败 <a href=#mongo-%e5%89%af%e6%9c%ac%e9%9b%86%e8%87%aa%e5%8a%a8%e5%88%9d%e5%a7%8b%e5%8c%96%e5%a4%b1%e8%b4%a5 class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>最新的 docker-compose 示例优化 Mongo 副本集初始化，实现了全自动。目前在 unbuntu20,22 centos7, wsl2, mac, window 均通过测试。仍无法正常启动，大部分是因为 cpu 不支持 AVX 指令集，可以切换 Mongo4.x 版本。</p><p>如果是由于，无法自动初始化副本集合，可以手动初始化副本集：</p><ol><li>终端中执行下面命令，创建mongo密钥：</li></ol><div class=prism-codeblock><pre id=dccf87f class=language-bash>
  <code>openssl rand -base64 756 &gt; ./mongodb.key
chmod 600 ./mongodb.key
# 修改密钥权限，部分系统是admin，部分是root
chown 999:root ./mongodb.key</code>
  </pre></div><ol start=2><li>修改 docker-compose.yml，挂载密钥</li></ol><div class=prism-codeblock><pre id=fd5e756 class=language-yml>
  <code>mongo:
  #  image: mongo:5.0.18
  # image: registry.cn-hangzhou.aliyuncs.com/fastgpt/mongo:5.0.18 # 阿里云
  container_name: mongo
  ports:
    - 27017:27017
  networks:
    - fastgpt
  command: mongod --keyFile /data/mongodb.key --replSet rs0
  environment:
    # 默认的用户名和密码，只有首次允许有效
    - MONGO_INITDB_ROOT_USERNAME=myusername
    - MONGO_INITDB_ROOT_PASSWORD=mypassword
  volumes:
    - ./mongo/data:/data/db
    - ./mongodb.key:/data/mongodb.key</code>
  </pre></div><ol start=3><li>重启服务</li></ol><div class=prism-codeblock><pre id=1dccde9 class=language-bash>
  <code>docker-compose down
docker-compose up -d</code>
  </pre></div><ol start=4><li>进入容器执行副本集合初始化</li></ol><div class=prism-codeblock><pre id=7c9c646 class=language-bash>
  <code># 查看 mongo 容器是否正常运行
docker ps 
# 进入容器
docker exec -it mongo bash

# 连接数据库（这里要填Mongo的用户名和密码）
mongo -u myusername -p mypassword --authenticationDatabase admin

# 初始化副本集。如果需要外网访问，mongo:27017 。如果需要外网访问，需要增加Mongo连接参数：directConnection=true
rs.initiate({
  _id: &#34;rs0&#34;,
  members: [
    { _id: 0, host: &#34;mongo:27017&#34; }
  ]
})
# 检查状态。如果提示 rs0 状态，则代表运行成功
rs.status()</code>
  </pre></div><h3 id=如何修改api地址和密钥>如何修改API地址和密钥 <a href=#%e5%a6%82%e4%bd%95%e4%bf%ae%e6%94%b9api%e5%9c%b0%e5%9d%80%e5%92%8c%e5%af%86%e9%92%a5 class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>默认是写了OneAPi的连接地址和密钥，可以通过修改<code>docker-compose.yml</code>中，fastgpt容器的环境变量实现。</p><p><code>OPENAI_BASE_URL</code>（API 接口的地址，需要加/v1）
<code>CHAT_API_KEY</code>（API 接口的凭证）。</p><p>修改完后重启：</p><div class=prism-codeblock><pre id=75cd7e5 class=language-bash>
  <code>docker-compose down
docker-compose up -d</code>
  </pre></div><h3 id=如何更新版本>如何更新版本？ <a href=#%e5%a6%82%e4%bd%95%e6%9b%b4%e6%96%b0%e7%89%88%e6%9c%ac class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><ol><li><p>查看<a data-bs-delay='{"hide":300,"show":550}' data-bs-html=true data-bs-title="<a href='/docs/development/upgrading/intro/'><p>版本更新/升级操作</p><strong>升级说明</strong><br>FastGPT 升级说明</a>" data-bs-toggle=tooltip href=/docs/development/upgrading/intro/>更新文档</a>，确认要升级的版本，避免跨版本升级。</p></li><li><p>修改镜像 tag 到指定版本</p></li><li><p>执行下面命令会自动拉取镜像：</p><div class=prism-codeblock><pre id=fe2f84e class=language-bash>
  <code>docker-compose pull
docker-compose up -d</code>
  </pre></div></li><li><p>执行初始化脚本（如果有）</p></li></ol><h3 id=如何自定义配置文件>如何自定义配置文件？ <a href=#%e5%a6%82%e4%bd%95%e8%87%aa%e5%ae%9a%e4%b9%89%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6 class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>修改<code>config.json</code>文件，并执行<code>docker-compose down</code>再执行<code>docker-compose up -d</code>重起容器。具体配置，参考<a data-bs-delay='{"hide":300,"show":550}' data-bs-html=true data-bs-title="<a href='/docs/development/configuration/'><p>开发与部署指南</p><strong>配置文件介绍</strong><br>FastGPT 配置参数介绍</a>" data-bs-toggle=tooltip href=/docs/development/configuration/>配置详解</a>。</p><h3 id=如何检查自定义配置文件是否挂载>如何检查自定义配置文件是否挂载 <a href=#%e5%a6%82%e4%bd%95%e6%a3%80%e6%9f%a5%e8%87%aa%e5%ae%9a%e4%b9%89%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6%e6%98%af%e5%90%a6%e6%8c%82%e8%bd%bd class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><ol><li><code>docker logs fastgpt</code> 可以查看日志，在启动容器后，第一次请求网页，会进行配置文件读取，可以看看有没有读取成功以及有无错误日志。</li><li><code>docker exec -it fastgpt sh</code> 进入 FastGPT 容器，可以通过<code>ls data</code>查看目录下是否成功挂载<code>config.json</code>文件。可通过<code>cat data/config.json</code>查看配置文件。</li></ol><p><strong>可能不生效的原因</strong></p><ol><li>挂载目录不正确</li><li>配置文件不正确，日志中会提示<code>invalid json</code>，配置文件需要是标准的 JSON 文件。</li><li>修改后，没有<code>docker-compose down</code>再<code>docker-compose up -d</code>，restart是不会重新挂载文件的。</li></ol><h3 id=如何检查环境变量是否正常加载>如何检查环境变量是否正常加载 <a href=#%e5%a6%82%e4%bd%95%e6%a3%80%e6%9f%a5%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f%e6%98%af%e5%90%a6%e6%ad%a3%e5%b8%b8%e5%8a%a0%e8%bd%bd class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><ol><li><code>docker exec -it fastgpt sh</code> 进入 FastGPT 容器。</li><li>直接输入<code>env</code>命令查看所有环境变量。</li></ol><h3 id=为什么无法连接本地模型镜像>为什么无法连接<code>本地模型</code>镜像 <a href=#%e4%b8%ba%e4%bb%80%e4%b9%88%e6%97%a0%e6%b3%95%e8%bf%9e%e6%8e%a5%e6%9c%ac%e5%9c%b0%e6%a8%a1%e5%9e%8b%e9%95%9c%e5%83%8f class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p><code>docker-compose.yml</code>中使用了桥接的模式建立了<code>fastgpt</code>网络，如想通过0.0.0.0或镜像名访问其它镜像，需将其它镜像也加入到网络中。</p><h3 id=端口冲突怎么解决>端口冲突怎么解决？ <a href=#%e7%ab%af%e5%8f%a3%e5%86%b2%e7%aa%81%e6%80%8e%e4%b9%88%e8%a7%a3%e5%86%b3 class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>docker-compose 端口定义为：<code>映射端口:运行端口</code>。</p><p>桥接模式下，容器运行端口不会有冲突，但是会有映射端口冲突，只需将映射端口修改成不同端口即可。</p><p>如果<code>容器1</code>需要连接<code>容器2</code>，使用<code>容器2:运行端口</code>来进行连接即可。</p><p>（自行补习 docker 基本知识）</p><h3 id=relation-modeldata-does-not-exist>relation &ldquo;modeldata&rdquo; does not exist <a href=#relation-modeldata-does-not-exist class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>PG 数据库没有连接上/初始化失败，可以查看日志。FastGPT 会在每次连接上 PG 时进行表初始化，如果报错会有对应日志。</p><ol><li>检查数据库容器是否正常启动</li><li>非 docker 部署的，需要手动安装 pg vector 插件</li><li>查看 fastgpt 日志，有没有相关报错</li></ol><h3 id=illegal-instruction>Illegal instruction <a href=#illegal-instruction class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>可能原因：</p><ol><li>arm架构。需要使用 Mongo 官方镜像： mongo:5.0.18</li><li>cpu 不支持 AVX，无法用 mongo5，需要换成 mongo4.x。把 mongo 的 image 换成: mongo:4.4.29</li></ol><h3 id=operation-auth_codesfindone-buffering-timed-out-after-10000ms>Operation <code>auth_codes.findOne()</code> buffering timed out after 10000ms <a href=#operation-auth_codesfindone-buffering-timed-out-after-10000ms class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>mongo连接失败，查看mongo的运行状态<strong>对应日志</strong>。</p><p>可能原因：</p><ol><li>mongo 服务有没有起来（有些 cpu 不支持 AVX，无法用 mongo5，需要换成 mongo4.x，可以docker hub找个最新的4.x，修改镜像版本，重新运行）</li><li>连接数据库的环境变量填写错误（账号密码，注意host和port，非容器网络连接，需要用公网ip并加上 directConnection=true）</li><li>副本集启动失败。导致容器一直重启。</li><li><code>Illegal instruction.... Waiting for MongoDB to start</code>: cpu 不支持 AVX，无法用 mongo5，需要换成 mongo4.x</li></ol><h3 id=首次部署root用户提示未注册>首次部署，root用户提示未注册 <a href=#%e9%a6%96%e6%ac%a1%e9%83%a8%e7%bd%b2root%e7%94%a8%e6%88%b7%e6%8f%90%e7%a4%ba%e6%9c%aa%e6%b3%a8%e5%86%8c class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>日志会有错误提示。大概率是没有启动 Mongo 副本集模式。</p><h3 id=无法导出知识库无法使用语音输入播报>无法导出知识库、无法使用语音输入/播报 <a href=#%e6%97%a0%e6%b3%95%e5%af%bc%e5%87%ba%e7%9f%a5%e8%af%86%e5%ba%93%e6%97%a0%e6%b3%95%e4%bd%bf%e7%94%a8%e8%af%ad%e9%9f%b3%e8%be%93%e5%85%a5%e6%92%ad%e6%8a%a5 class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>没配置 SSL 证书，无权使用部分功能。</p><h3 id=登录提示-network-error>登录提示 Network Error <a href=#%e7%99%bb%e5%bd%95%e6%8f%90%e7%a4%ba-network-error class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>由于服务初始化错误，系统重启导致。</p><ul><li>90%是由于配置文件写不对，导致 JSON 解析报错</li><li>剩下的基本是因为向量数据库连不上</li></ul><h3 id=如何修改密码>如何修改密码 <a href=#%e5%a6%82%e4%bd%95%e4%bf%ae%e6%94%b9%e5%af%86%e7%a0%81 class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>修改<code>docker-compose.yml</code>文件中<code>DEFAULT_ROOT_PSW</code>并重启即可，密码会自动更新。</p></div><div class="gitinfo d-flex flex-wrap justify-content-between align-items-center opacity-85 pt-3"><div id=edit-this-page class=mt-1><a href=https://github.com/labring/FastGPT/blob/main/docSite/content/zh-cn/docs/development/docker.md alt="Docker Compose 快速部署" rel="noopener noreferrer" target=_blank><span class="me-1 align-text-bottom"><svg width="20" height="20" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="currentcolor"><path d="M16 .396c-8.839.0-16 7.167-16 16 0 7.073 4.584 13.068 10.937 15.183.803.151 1.093-.344 1.093-.772.0-.38-.009-1.385-.015-2.719-4.453.964-5.391-2.151-5.391-2.151-.729-1.844-1.781-2.339-1.781-2.339-1.448-.989.115-.968.115-.968 1.604.109 2.448 1.645 2.448 1.645 1.427 2.448 3.744 1.74 4.661 1.328.14-1.031.557-1.74 1.011-2.135-3.552-.401-7.287-1.776-7.287-7.907.0-1.751.62-3.177 1.645-4.297-.177-.401-.719-2.031.141-4.235.0.0 1.339-.427 4.4 1.641 1.281-.355 2.641-.532 4-.541 1.36.009 2.719.187 4 .541 3.043-2.068 4.381-1.641 4.381-1.641.859 2.204.317 3.833.161 4.235 1.015 1.12 1.635 2.547 1.635 4.297.0 6.145-3.74 7.5-7.296 7.891.556.479 1.077 1.464 1.077 2.959.0 2.14-.02 3.864-.02 4.385.0.416.28.916 1.104.755 6.4-2.093 10.979-8.093 10.979-15.156.0-8.833-7.161-16-16-16z"/></svg></span>编辑此页面</a></div></div></div><div><hr class=doc-hr><div id=doc-nav class=d-print-none><div class="row flex-xl-nowrap"><div class="col-sm-6 pt-2 doc-next"><a href=/docs/development/sealos/><div class="card h-100 my-1"><div class="card-body py-2"><p class="card-title fs-5 fw-semibold lh-base mb-0"><i class="material-icons align-middle">navigate_before</i> Sealos 一键部署</p><p class="card-text ms-2">使用 Sealos 一键部署 FastGPT</p></div></div></a></div><div class="col-sm-6 pt-2 doc-prev"><a class=ms-auto href=/docs/development/configuration/><div class="card h-100 my-1 text-end"><div class="card-body py-2"><p class="card-title fs-5 fw-semibold lh-base mb-0">配置文件介绍 <i class="material-icons align-middle">navigate_next</i></p><p class="card-text me-2">FastGPT 配置参数介绍</p></div></div></a></div></div></div></div></div></div></div></div><footer class="shadow py-3 d-print-none"><div class="row align-items-center" style=height:90px><div class=col><div class="text-sm-start text-center mx-md-2"><p class=mb-0>© 2024 the FastGPT Authors.</p><p class=github-badge><span class=badge-subject>云操作系统</span><span class="badge-value bg-blue"><a style=color:#fff href=https://sealos.io/ target=_blank>Sealos</a></span>
<span class=badge-subject>云开发</span><span class="badge-value bg-brightgreen"><a style=color:#fff href=https://laf.run target=_blank>Laf</a></span>
<span class=badge-subject>云原生存储</span><span class="badge-value bg-orange"><a style=color:#fff href=https://github.com/labring/sealfs target=_blank>Sealfs</a></span></p><div id=fixed-box><div class=feedback-btn-wrapper><a href=https://fael3z0zfze.feishu.cn/share/base/form/shrcnRxj3utrzjywsom96Px4sud style=text-decoration:none target=_blank><button id=feedback-btn title="Give feedback"><svg class="inline w-5 h-5" viewBox="0 0 20 20" fill="currentcolor"><path fill-rule="evenodd" d="M18 13V5a2 2 0 00-2-2H4A2 2 0 002 5v8a2 2 0 002 2h3l3 3 3-3h3a2 2 0 002-2zM5 7a1 1 0 011-1h8a1 1 0 110 2H6A1 1 0 015 7zm1 3a1 1 0 100 2h3a1 1 0 100-2H6z" clip-rule="evenodd"/></svg>
<span _msttexthash=6039839 _msthash=295>咨询合作</span></button></a></div></div></div></div></div></footer></main></div></div><button onclick=topFunction() id=back-to-top aria-label="Back to Top Button" class="back-to-top fs-5"><svg width="24" height="24"><path d="M12 10.224l-6.3 6.3-1.38-1.372L12 7.472l7.68 7.68-1.38 1.376z" style="fill:#fff"/></svg></button>
<script>(()=>{var e=document.getElementById("mode");e!==null&&(window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")):(localStorage.setItem("theme","light"),document.documentElement.removeAttribute("data-dark-mode"))}),e.addEventListener("click",()=>{document.documentElement.toggleAttribute("data-dark-mode"),localStorage.setItem("theme",document.documentElement.hasAttribute("data-dark-mode")?"dark":"light")}),localStorage.getItem("theme")==="dark"?document.documentElement.setAttribute("data-dark-mode",""):document.documentElement.removeAttribute("data-dark-mode"))})()</script><script src=/docs/js/bootstrap.58faa4dc6cac13820c8a72b1fdd5d716641b3129ef981b1956fa23d69ad59f180fed6d42cb92030ac272ba85e7f8247d.js integrity=sha384-WPqk3GysE4IMinKx/dXXFmQbMSnvmBsZVvoj1prVnxgP7W1Cy5IDCsJyuoXn+CR9 defer></script>
<script type=text/javascript src=https://doc.tryfastgpt.ai/docs/js/bundle.min.68e80f383e0615acc689eae489a8c1d728bea3861d874ec1044cc85566fd9ff1b10385a1feadd324701c587f66e425bc.js integrity=sha384-aOgPOD4GFazGierkiajB1yi+o4Ydh07BBEzIVWb9n/GxA4Wh/q3TJHAcWH9m5CW8 crossorigin=anonymous defer></script>
<script src=https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js crossorigin=anonymous referrerpolicy=no-referrer></script>
<script>const images=Array.from(document.querySelectorAll(".medium-zoom-image"));images.forEach(e=>{mediumZoom(e,{margin:0,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.8)"})})</script><script>window.addEventListener("DOMContentLoaded",function(){docsearch({container:"#docsearch",appId:"5BEWEMH0YA",apiKey:"14834e919a87217d919d6d881fcacac3",indexName:"fastgpt",placeholder:"搜索",translations:{button:{buttonText:"搜索",buttonAriaLabel:"搜索"},modal:{startScreen:{noRecentSearchesText:"没有最近搜索"},footer:{selectText:"选中",selectKeyAriaLabel:"Enter key",navigateText:"导航",navigateUpKeyAriaLabel:"Arrow up",navigateDownKeyAriaLabel:"Arrow down",closeText:"关闭",closeKeyAriaLabel:"Escape key",searchByText:"搜索提供"},noResultsScreen:{noResultsText:"没有结果：",suggestedQueryText:"试试搜索",reportMissingResultsText:"Believe this query should return results?",reportMissingResultsLinkText:"Let us know."}}}})})</script></body></html>